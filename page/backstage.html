<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://registry.npmmirror.com/mdui/2.0.3/files/mdui.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="/assets/css/mark.css">
    <link rel="stylesheet" href="/assets/css/style.css">
    <script src="/assets/js/jquery-3.7.1.min.js"></script>
    <script src="/assets/js/marked.min.js"></script>
    <script src="/assets/js/login.js"></script>
    <script src="/assets/js/cookie.js"></script>
    <script src="/assets/js/theme.js"></script>
    <script src="/assets/js/backstage.js"></script>
    <script src="/assets/js/chart-4.4.0.min.js"></script>
    <title>后台管理</title>
</head>

<body style="overflow: hidden;">
    <mdui-layout>
        <mdui-top-app-bar>
            <mdui-buutton-icon icon="home"></mdui-buutton-icon>
            <mdui-top-app-bar-title>Web管理</mdui-top-app-bar-title>
            <div style="flex-grow: 1"></div>
            <mdui-dropdown>
                <mdui-button-icon slot="trigger" icon="menu"></mdui-button-icon>
                <mdui-menu>
                    <mdui-menu-item>
                        <i class="material-icons">account_circle</i>
                        <?=$_COOKIE["user"]?>
                    </mdui-menu-item>
                    <mdui-menu-item href="javascript:resetpassword()">
                        <i class="material-icons">lock</i></mdui-icon>修改密码
                    </mdui-menu-item>
                    <mdui-menu-item href="javascript:loginout()">
                        <i class="material-icons">exit_to_app</i>注销
                    </mdui-menu-item>
                </mdui-menu>
            </mdui-dropdown>
        </mdui-top-app-bar>
        <mdui-navigation-rail contained divider>
            <mdui-navigation-rail-item icon="dashboard" value="#" href="#">主面板</mdui-navigation-rail-item>
            <mdui-navigation-rail-item icon="api" href="#api_control">API管理</mdui-navigation-rail-item>
            <mdui-navigation-rail-item icon="settings" href="#settings">设置</mdui-navigation-rail-item>
            <mdui-navigation-rail-item icon="edit_note" href="#web">修改信息</mdui-navigation-rail-item>
            <mdui-navigation-rail-item icon="save" onclick="save()">保存修改</mdui-navigation-rail-item>
        </mdui-navigation-rail>
        <mdui-layout-main class="tabs" style="height: calc(100vh - 10px);overflow: auto;">
            <div id="home" class="grid">
                <mdui-card variant="outlined">
                    <mdui-button onclick="sendData('/v2/auth/cache',{},function (responseData) {message(responseData.data);});">清理缓存</mdui-button>
                </mdui-card>
                <mdui-card variant="outlined">
                    本地SEAWeb版本: <span id="version">
                        <mdui-chip loading></mdui-chip>
                    </span><br>
                    网络版本:<span id="latest_version"><a href="javascript:check_update()">检查更新</a></span>
                    <mdui-text-field readonly autosize label="更新内容" id="update_info"></mdui-text-field>
                </mdui-card>
                <mdui-card variant="outlined">
                    <mdui-list-subheader>调用排行</mdui-list-subheader>
                    <mdui-list id="api-rank-list">
                        <br>
                        <mdui-circular-progress></mdui-circular-progress>
                    </mdui-list>
                </mdui-card>
                <mdui-card variant="outlined" style="overflow-x: auto;white-space: nowrap;">
                    调用统计
                    <canvas id="api-trend-chart">
                        <br>
                        <mdui-circular-progress></mdui-circular-progress>
                    </canvas>
                </mdui-card>
            </div>
            <div id="api_control">
                <div id="api_list" class="mdui-table">
                    <br>
                    <mdui-circular-progress></mdui-circular-progress>
                </div>
                <br>
            </div>
            <div id="settings">
                <div id="setting" class="mdui-table">
                    <br>
                    <mdui-circular-progress></mdui-circular-progress>
                </div>
                <br>
            </div>
            <div id="web">
                <span id="web_info">
                    <br>
                    <mdui-circular-progress></mdui-circular-progress>
                </span>
            </div>
        </mdui-layout-main>
    </mdui-layout>
    <script src="https://registry.npmmirror.com/mdui/2.0.3/files/mdui.global.js"></script>
</body>

</html>